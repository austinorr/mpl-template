

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Walkthrough &mdash; mpl-template 0.3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="mpl-template 0.3.0 documentation" href="../../index.html"/>
        <link rel="next" title="Template API Reference" href="../../api.html"/>
        <link rel="prev" title="Welcome to mpl-template’s documentation!" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> mpl-template
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Walkthrough</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Titleblock">Titleblock</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#User-Defined-Titleblock">User Defined Titleblock</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Under-The-Hood">Under The Hood</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Inserting-a-Plot">Inserting a Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Inserting-an-Image">Inserting an Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Plots-with-Insets">Plots with Insets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#Advanced-Features">Advanced Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Compatability-with-Seaborn">Compatability with Seaborn</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#FacetGrid">FacetGrid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Custom-Titleblock-Specifications">Custom Titleblock Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Fully-Custom-Titleblock">Fully Custom Titleblock</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api.html"><code class="docutils literal"><span class="pre">Template</span></code> API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html#insert-image-api-reference"><code class="docutils literal"><span class="pre">insert_image</span></code> API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">mpl-template</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Walkthrough</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebooks/tutorial/Template_Docs.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Walkthrough">
<h1>Walkthrough<a class="headerlink" href="#Walkthrough" title="Permalink to this headline">¶</a></h1>
<p>The following is a detailed orientation on the <code class="docutils literal"><span class="pre">Template</span></code> class and
<code class="docutils literal"><span class="pre">insert_image</span></code> functions.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">copy</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">as</span> <span class="nn">gs</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">mpl_template</span> <span class="kn">import</span> <span class="n">Template</span><span class="p">,</span> <span class="n">insert_image</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1"># make the inline output identical to the PDF.</span>
<span class="o">%</span><span class="k">config</span> InlineBackend.print_figure_kwargs = {&#39;bbox_inches&#39;:None}
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">SCRIPT</span> <span class="o">=</span> <span class="s2">&quot;Template_Docs.ipynb&quot;</span>
<span class="n">PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]),</span> <span class="n">SCRIPT</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Basics">
<h2>Basics<a class="headerlink" href="#Basics" title="Permalink to this headline">¶</a></h2>
<p>The Builtin template layout is revealed with the blank() method of the
Template object. This method labels the axes names that make up the
default figure axes elements. These elements will contain the title
block contents.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">)</span>

<span class="n">blank_fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">blank</span><span class="p">()</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>      <span class="c1"># This is a helper function that is useful when</span>
                                  <span class="c1"># working with %matplotlib inline</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_4_0.png" src="../../_images/notebooks_tutorial_Template_Docs_4_0.png" />
</div>
</div>
</div>
<div class="section" id="Titleblock">
<h2>Titleblock<a class="headerlink" href="#Titleblock" title="Permalink to this headline">¶</a></h2>
<p>The titeleblock boxes are each matplotlib.axes.Axes() instances that
have been created with gridspec.GridSpecFromSubplotSpec. The titleblock
is stored as a list of dicts, and the widths and heights of the Axes
objects are controlled using a list of dicts which contain a <code class="docutils literal"><span class="pre">'span'</span></code>
key. For Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">user_specified</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">]},</span>
    <span class="p">{</span><span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">]},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>would create two boxes stacked on top of each other, both of them .5
inches tall and 1 inch wide.</p>
<div class="section" id="User-Defined-Titleblock">
<h3>User Defined Titleblock<a class="headerlink" href="#User-Defined-Titleblock" title="Permalink to this headline">¶</a></h3>
<p>Populating the figure axes objects above is simple with a loop, and a
function to perform the logic for each axes element. there is a helper
method called <code class="docutils literal"><span class="pre">populate_titleblock()</span></code> to assist with this task, or the
user may specify their own function for special cases.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">titleblock_</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="c1"># Optional if box is meant to be empty.</span>
        <span class="c1"># Required if box will be populated.</span>
        <span class="c1"># The value referenced by the &#39;name&#39; key is</span>
        <span class="c1"># used to assign the &#39;label&#39; attribute of the</span>
        <span class="c1"># Axes instance.</span>

        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">[{},</span> <span class="p">{}],</span>
        <span class="c1"># Optional if box will not contain text.</span>
        <span class="c1"># Dict or list of dicts containing Axes.text()</span>
        <span class="c1"># kwargs</span>

        <span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="c1"># Optional if default box dimensions should be used.</span>
        <span class="c1"># User input of this attribute overrides the</span>
        <span class="c1"># default span widths and heights and may require the</span>
        <span class="c1"># user to also adjust the</span>
        <span class="c1"># template.Template.gstitleblock() values to create</span>
        <span class="c1"># the intended box.</span>

        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;path</span><span class="se">\t</span><span class="s1">o\image.png&#39;</span><span class="p">,</span>
            <span class="c1"># Required, may be web address</span>
            <span class="c1"># or local file path</span>
            <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="nb">int</span> <span class="ow">or</span> <span class="nb">float</span><span class="p">,</span>
            <span class="c1"># Optional, defaults to 1.</span>
            <span class="c1"># use scale &gt; 1 for zoom-in</span>
            <span class="c1"># and scale &lt; 1 for zoom-out</span>
            <span class="s1">&#39;expand&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
            <span class="c1"># Optional, defaults to False.</span>
            <span class="c1"># Applies only if scale &gt; 1.</span>
            <span class="c1"># If True, image is expanded to completely</span>
            <span class="c1"># fill enclosing axes object.</span>
            <span class="c1"># If False, image is zoomed and cropped</span>
            <span class="c1"># to original aspect ratio.</span>
        <span class="p">},</span>

    <span class="p">},</span>
    <span class="p">{},</span>      <span class="c1"># Box 2</span>
    <span class="p">{},</span>      <span class="c1"># Box 3 etc...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This example will build a title block as follows using the default spans
as shown in the <code class="docutils literal"><span class="pre">blank()</span></code> output above.</p>
<ul class="simple">
<li>“b_0” will contain a title and subtitle with different formatting</li>
<li>“b_1” will contain a logo image</li>
<li>“b_2” will contain the project number</li>
<li>“b_3” will contain the date</li>
<li>“b_4” will contain the figure number</li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">TBK</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;Example Figure&#39;</span><span class="p">,</span>
                <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.54</span><span class="p">,</span>
                <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;baseline&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;Weyland-Yutani&#39;</span><span class="p">,</span>
                <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;light&#39;</span><span class="p">,</span>
                <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.46</span><span class="p">,</span>
                <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">),</span>
            <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;logo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;img//logo.png&#39;</span><span class="p">,</span>
            <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">75</span><span class="p">,</span>
        <span class="p">},</span>
     <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;USCSS $Nostromo$&#39;</span><span class="p">,</span>
            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;June 2122&#39;</span><span class="p">,</span>
            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fignum&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;Figure</span><span class="se">\n\n</span><span class="s1">{:02d}&#39;</span><span class="p">,</span>
            <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span> <span class="n">titleblock_content</span><span class="o">=</span><span class="n">TBK</span><span class="p">)</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>
<span class="c1"># typically the path is populated via the required `scriptname` kwarg</span>
<span class="c1"># but it can be overwritten with this `path_text` property</span>

<span class="n">report_fig</span><span class="o">.</span><span class="n">add_frame</span><span class="p">()</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">add_titleblock</span><span class="p">()</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">add_path_text</span><span class="p">()</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">populate_titleblock</span><span class="p">()</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_7_0.png" src="../../_images/notebooks_tutorial_Template_Docs_7_0.png" />
</div>
</div>
<p>Below are the Axes objects created by the <code class="docutils literal"><span class="pre">Template</span></code> class and <code class="docutils literal"><span class="pre">TBK</span></code>
variable. Note that <code class="docutils literal"><span class="pre">frame</span></code> and <code class="docutils literal"><span class="pre">img_b_1</span></code> were not labeled by the
user, but by the Template.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">get_axes</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
frame
title
logo
project
date
fignum
img_b_1
page
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Under-The-Hood">
<h2>Under The Hood<a class="headerlink" href="#Under-The-Hood" title="Permalink to this headline">¶</a></h2>
<p><p>The template object works by breaking down the figure into a grid of
0.1” squares and using matplotlib’s GridSpec to define the axes objects
that make up the title block boxes and border. This means that the code
is extremely flexible for changing things like margins, titleblock
width, and inserting multiple axes into compliated layouts. However,
this also means that a user must call GridSpec() or
GridSpecFromSubplotSpec() in order to populate the figure.</p>
<p><p>Below is a 1” by 1” example to illustrate the underlying grid of the
template.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span> <span class="n">draft</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>
                                    <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticks</span><span class="o">=</span><span class="p">[],</span>
                                    <span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_11_0.png" src="../../_images/notebooks_tutorial_Template_Docs_11_0.png" />
</div>
</div>
</div>
<div class="section" id="Inserting-a-Plot">
<h2>Inserting a Plot<a class="headerlink" href="#Inserting-a-Plot" title="Permalink to this headline">¶</a></h2>
<p>A simple plot example is shown below that uses several methods to get
locations of useful figure features.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Plot Example&quot;</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span> <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">)</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span><span class="o">=</span><span class="n">PATH</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>   <span class="c1"># `setup_figure` performs add_frame(), add_titleblock(),</span>
                                  <span class="c1"># add_path_text() and populate_titleblock(). It is the</span>
                                  <span class="c1"># recommended way to create figures with the Template class</span>

<span class="c1"># create a sub-gridspec that will be used for the main image</span>
<span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">margins</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">8</span><span class="p">),</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">left</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">8</span><span class="p">)]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">)])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_13_0.png" src="../../_images/notebooks_tutorial_Template_Docs_13_0.png" />
</div>
</div>
</div>
<div class="section" id="Inserting-an-Image">
<h2>Inserting an Image<a class="headerlink" href="#Inserting-an-Image" title="Permalink to this headline">¶</a></h2>
<p>The template has an additional built in method for inserting images that
are centered in the axes object and properly antialiased for the final
resolution of the figure. The default value for saving/exporting figures
using the Template module is 300 dpi. The insert_image() method also
ensures that there is no stretching or other modification to the image
that is being inserted.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Image Example&quot;</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                      <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">)</span>

<span class="c1"># create a sub-gridspec that will be used for the main image</span>
<span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">margins</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">8</span><span class="p">),</span>
                        <span class="mi">3</span> <span class="o">+</span> <span class="n">left</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)]</span>

<span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>

<span class="c1"># &quot;frameon = True&quot; shows that the axes object that is being added</span>
<span class="c1"># is exactly the size and shape specified by the gridspec, but the image</span>
<span class="c1"># fills the largest dimension first.</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">main</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">im_ax</span> <span class="o">=</span> <span class="n">insert_image</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s2">&quot;img//95_confidence.png&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">get_dpi</span><span class="p">())</span>
<span class="n">im_ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;on&#39;</span><span class="p">)</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_15_0.png" src="../../_images/notebooks_tutorial_Template_Docs_15_0.png" />
</div>
</div>
</div>
<div class="section" id="Plots-with-Insets">
<h2>Plots with Insets<a class="headerlink" href="#Plots-with-Insets" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Inset Example&quot;</span>
<span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
                      <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                      <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">,</span>
                     <span class="p">)</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>

<span class="n">main</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span><span class="p">),</span>
                        <span class="mi">8</span> <span class="o">+</span> <span class="n">left</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">50</span><span class="p">)]</span>
<span class="n">gs_timeseries</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">GridSpecFromSubplotSpec</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">main</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
    <span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs_timeseries</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">((</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">inset</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">3</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span>
                         <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_w</span> <span class="o">+</span> <span class="n">right</span><span class="p">):</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)]</span>

<span class="n">inset_ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span>
    <span class="n">inset</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">insert_image</span><span class="p">(</span><span class="n">inset_ax</span><span class="p">,</span> <span class="s2">&quot;img//Template_Inset.png&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">img</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;on&#39;</span><span class="p">)</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_17_0.png" src="../../_images/notebooks_tutorial_Template_Docs_17_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="Advanced-Features">
<h1>Advanced Features<a class="headerlink" href="#Advanced-Features" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Compatability-with-Seaborn">
<h2>Compatability with Seaborn<a class="headerlink" href="#Compatability-with-Seaborn" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">):</span>
        <span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
        <span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Seaborn Loop Example&quot;</span>
        <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>

        <span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
                              <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                              <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">,</span>
                              <span class="p">)</span>
        <span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>

        <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">margins</span>
        <span class="n">main</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span><span class="p">),</span>
                                <span class="mi">8</span> <span class="o">+</span> <span class="n">left</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">50</span><span class="p">)]</span>
        <span class="n">gs_timeseries</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">GridSpecFromSubplotSpec</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
                                                   <span class="n">main</span><span class="p">,</span>
                                                   <span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                                                   <span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
            <span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs_timeseries</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> \
                <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">((</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">inset</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="mi">3</span> <span class="o">+</span> <span class="n">top</span><span class="p">:</span><span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span>
                                 <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_w</span> <span class="o">+</span> <span class="n">right</span><span class="p">):</span><span class="o">-</span><span class="p">(</span><span class="n">right</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)]</span>

        <span class="n">inset_ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">inset</span><span class="p">,</span>
                                   <span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                   <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span>
                                   <span class="n">yticks</span><span class="o">=</span><span class="p">[],</span>
                                   <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>
                                   <span class="p">)</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">insert_image</span><span class="p">(</span><span class="n">inset_ax</span><span class="p">,</span> <span class="s2">&quot;img//Template_Inset.png&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_19_0.png" src="../../_images/notebooks_tutorial_Template_Docs_19_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_19_1.png" src="../../_images/notebooks_tutorial_Template_Docs_19_1.png" />
</div>
</div>
<div class="section" id="FacetGrid">
<h3>FacetGrid<a class="headerlink" href="#FacetGrid" title="Permalink to this headline">¶</a></h3>
<p>Seaborn’s facetgrid cannot be made directly compatable with this module
(to my knowledge) because of it’s implicit call to
<a class="reference external" href="https://github.com/mwaskom/seaborn/blob/master/seaborn/axisgrid.py#L310">plt.subplots()</a>
or
<a class="reference external" href="https://github.com/mwaskom/seaborn/blob/master/seaborn/axisgrid.py#L319">plt.figure()</a>
to generate the figure necessary to produce multiple axes in a subplot
axes grid. For now, creating a temporary png file of the facet grid and
loading it as an image is one way around this limitation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">):</span>
    <span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Seaborn FacetGrid Example&quot;</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>

    <span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
                          <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                          <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">,</span>
                          <span class="p">)</span>
    <span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>

    <span class="n">attend</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;attention&quot;</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">attend</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                      <span class="n">size</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                      <span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">,</span> <span class="s2">&quot;solutions&quot;</span><span class="p">,</span> <span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;img//Facet_Grid.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">margins</span>
    <span class="n">main</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="n">top</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span> <span class="o">+</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                            <span class="n">left</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">right</span><span class="p">)]</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">main</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">yticks</span><span class="o">=</span><span class="p">[],</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">g_ax</span> <span class="o">=</span> <span class="n">insert_image</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s2">&quot;img//Facet_Grid.png&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=.</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">g_ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

    <span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_21_0.png" src="../../_images/notebooks_tutorial_Template_Docs_21_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="Custom-Titleblock-Specifications">
<h2>Custom Titleblock Specifications<a class="headerlink" href="#Custom-Titleblock-Specifications" title="Permalink to this headline">¶</a></h2>
<p>The Template Module is highly customizable using the
<code class="docutils literal"><span class="pre">titleblock_content</span></code>, <code class="docutils literal"><span class="pre">titleblock_rows</span></code> and <code class="docutils literal"><span class="pre">titleblock_cols</span></code>
kwargs when constructing the object. The rows and columns should be
tuples specifying the high level grid structure of the titleblock, and
the titleblock content should contain a list of dictionaries (one for
each box) with a <code class="docutils literal"><span class="pre">'span'</span></code> key.</p>
<p>Spans are given as gridspec lists of indices of the grids to span. The
pattern for gridspec is [r0:r,c0:c] where r0 is the top of the vertical
span of <em>rows</em>, and c0 is the left element of the horizontal span of the
<em>columns</em>. The span list should provide these indices in order, e.g.
[r0,r,c0,c].</p>
<p>Defaults are shown below:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Default titleblock_cols = (16, 16, 8)&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Default titleblock_rows = (8, 5, 3)&#39;</span><span class="p">)</span>
<span class="n">report_fig</span><span class="o">.</span><span class="n">default_spans</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Default titleblock_cols = (16, 16, 8)
Default titleblock_rows = (8, 5, 3)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[13]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[{&#39;span&#39;: [0, 8, 0, 40]},
 {&#39;span&#39;: [8, 13, 0, 32]},
 {&#39;span&#39;: [13, 16, 0, 16]},
 {&#39;span&#39;: [13, 16, 16, 32]},
 {&#39;span&#39;: [8, 16, 32, 40]}]
</pre></div>
</div>
</div>
<p>Defaults can be adjusted with the <code class="docutils literal"><span class="pre">titleblock_rows</span></code> and
<code class="docutils literal"><span class="pre">titleblock_cols</span></code>. It’s even possible to align the titleblock anywhere
on the figure using gridspec.</p>
<p>The titleblock can be moved using the <code class="docutils literal"><span class="pre">gstitleblock</span></code> attribute of the
<code class="docutils literal"><span class="pre">template.Template()</span></code> class.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">):</span>
    <span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; Wide Titleblock on Left&quot;</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

    <span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                          <span class="n">titleblock_rows</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                          <span class="n">titleblock_cols</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                          <span class="n">margins</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                          <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span><span class="p">,</span>
                          <span class="p">)</span>
    <span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>
    <span class="n">report_fig</span><span class="o">.</span><span class="n">gstitleblock</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">gsfig</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">t_h</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">:</span> <span class="o">-</span><span class="n">report_fig</span><span class="o">.</span><span class="n">bottom</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
                                               <span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">:</span> <span class="p">(</span><span class="n">report_fig</span><span class="o">.</span><span class="n">left</span> <span class="o">+</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">t_w</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
                                               <span class="p">]</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_25_0.png" src="../../_images/notebooks_tutorial_Template_Docs_25_0.png" />
</div>
</div>
<p>It’s also possible to blend the definitions of spans and use an existing
titleblock specification to populate the adjusted boxes. Notice that the
specifications from the <code class="docutils literal"><span class="pre">TBK</span></code> occupy different cells than before
because their spans have been defined differently by <code class="docutils literal"><span class="pre">new_spans</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">new_spans</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">30</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">40</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;span&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">update</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">TBK</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dct</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">update</span><span class="p">):</span>
    <span class="n">dct</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">new_spans</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">):</span>
    <span class="n">tbk</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Custom Titleblock Example&quot;</span>
    <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tbk</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="s1">&#39;s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

    <span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
                          <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                          <span class="n">titleblock_content</span><span class="o">=</span><span class="n">tbk</span>
                          <span class="p">)</span>
    <span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">add_page</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_27_0.png" src="../../_images/notebooks_tutorial_Template_Docs_27_0.png" />
</div>
</div>
</div>
<div class="section" id="Fully-Custom-Titleblock">
<h2>Fully Custom Titleblock<a class="headerlink" href="#Fully-Custom-Titleblock" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">fully_custom</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;ha&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="s2">&quot;Test Custom Block&quot;</span><span class="p">,</span>
                <span class="s2">&quot;va&quot;</span><span class="p">:</span> <span class="s2">&quot;baseline&quot;</span><span class="p">,</span>
                <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="s2">&quot;bold&quot;</span><span class="p">,</span>
                <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.52</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span>
                <span class="s2">&quot;ha&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="s2">&quot;Blank Example&quot;</span><span class="p">,</span>
                <span class="s2">&quot;va&quot;</span><span class="p">:</span> <span class="s2">&quot;top&quot;</span><span class="p">,</span>
                <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="s2">&quot;light&quot;</span><span class="p">,</span>
                <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.48</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">],</span>

    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;logo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;img//logo.png&#39;</span><span class="p">,</span>
            <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">6</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fignum&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span>
                 <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span>
                 <span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                 <span class="p">},</span>

        <span class="s1">&#39;span&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">48</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">):</span>
    <span class="n">report_fig</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
                          <span class="n">scriptname</span><span class="o">=</span><span class="n">SCRIPT</span><span class="p">,</span>
                          <span class="n">titleblock_content</span><span class="o">=</span><span class="n">fully_custom</span><span class="p">,</span>
                          <span class="p">)</span>
    <span class="n">report_fig</span><span class="o">.</span><span class="n">path_text</span> <span class="o">=</span> <span class="n">PATH</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">report_fig</span><span class="o">.</span><span class="n">setup_figure</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_tutorial_Template_Docs_29_0.png" src="../../_images/notebooks_tutorial_Template_Docs_29_0.png" />
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../api.html" class="btn btn-neutral float-right" title="Template API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../index.html" class="btn btn-neutral" title="Welcome to mpl-template’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Austin Orr.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>